/* ===== CSS base (ultra clean) ===== */
:root{
  --bg:#ffffff;
  --fg:#111111;
  --muted:#6b6b6b;
  --line:#dcdcdc;
  --chip:#f3f3f3;
  --chip-hover:#ececec;
  --focus:#111111;
  --you:#f6f6f6;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Inter, Arial, "Noto Sans", "Helvetica Neue", sans-serif;
  color:var(--fg);
  background:var(--bg);
  line-height:1.35;
}

.container{max-width:960px; margin:0 auto; padding:0 16px}
.topbar{position:sticky; top:0; z-index:10; background:var(--bg); border-bottom:1px solid var(--line)}
.nav{display:flex; align-items:center; justify-content:space-between; height:56px}
.brand{display:flex; align-items:center; gap:8px}
.logo{width:18px; height:18px}
.title{font-size:13px; font-weight:600; letter-spacing:.2px}
.actions{display:flex; align-items:center; gap:6px}

.iconbtn{
  width:44px; height:44px; display:inline-flex; align-items:center; justify-content:center;
  background:transparent; border:1px solid var(--line); border-radius:10px; cursor:pointer;
  transition: transform .22s cubic-bezier(.2,.9,.3,1.4), box-shadow .22s ease, background .2s ease;
}
.iconbtn img{width:18px; height:18px; filter: grayscale(1)}
.iconbtn:hover{background:#f8f8f8; transform: translateY(-1px)}
.iconbtn:active{transform: translateY(0) scale(.98)}
.iconbtn:focus-visible{outline:3px solid var(--focus); outline-offset:2px}
.iconbtn.primary{background:#111; border-color:#111}
.iconbtn.primary img{filter: invert(1)}

.skip{position:absolute; left:-9999px; top:auto; width:1px; height:1px; overflow:hidden}
.skip:focus{left:16px; top:16px; width:auto; height:auto; background:#fff; color:#111; border:2px solid #111; padding:8px 10px; border-radius:8px}

.app{padding:16px 0}
.chat{border:1px solid var(--line); border-radius:16px; min-height:70vh; display:flex; flex-direction:column; overflow:hidden; background:#fff}
.messages{padding:12px; display:flex; flex-direction:column; gap:10px; overflow:auto; flex:1}

.msg{display:flex; align-items:flex-start}
.msg .bubble{
  max-width:80%; padding:10px 12px; border-radius:14px; border:1px solid var(--line);
  background:#fff; font-size:14px; font-weight:400;
}
.msg.user{justify-content:flex-end}
.msg.user .bubble{background:var(--you)}
.small{font-size:12px; color:var(--muted)}

.composer{display:flex; gap:8px; padding:10px; border-top:1px solid var(--line); background:#fff}
.input-wrap{flex:1; display:flex}
#input{
  flex:1; border:1px solid var(--line); border-radius:12px; padding:12px 14px; font-size:14px; font-weight:400;
  transition: box-shadow .2s ease, border-color .2s ease;
}
#input:focus-visible{outline:3px solid var(--focus); outline-offset:0; box-shadow: 0 1px 0 #111}

.chips{display:flex; flex-wrap:wrap; gap:6px; margin-top:6px}
.chip{
  padding:6px 10px; font-size:12px; border-radius:999px; background:var(--chip); border:1px solid var(--line); cursor:pointer;
  transition: transform .22s cubic-bezier(.2,.9,.3,1.4), background .2s ease;
}
.chip:hover{background:var(--chip-hover); transform: translateY(-1px)}
.chip:active{transform: translateY(0) scale(.98)}
.chip:focus-visible{outline:3px solid var(--focus); outline-offset:1px}

.prompt-card{margin-top:6px; border:1px solid var(--line); border-radius:12px; padding:10px; background:#fff}
.prompt-title{font-size:15px; font-weight:600; margin:0 0 6px 0; letter-spacing:.1px}
.prompt-card textarea{
  width:100%; min-height:260px; border:1px solid var(--line); background:#fff; border-radius:8px; padding:10px;
  font-family: ui-monospace,SFMono-Regular,Menlo,Consolas,monospace; font-size:12.5px;
}
.prompt-card .row{display:flex; gap:6px; justify-content:flex-end; margin-top:8px}

.ai-buttons{display:flex; gap:6px; margin-top:8px; flex-wrap:wrap}
.ai{
  width:40px; height:40px; display:inline-flex; align-items:center; justify-content:center;
  border:1px solid var(--line); border-radius:10px; background:#fff; cursor:pointer;
  transition: transform .22s cubic-bezier(.2,.9,.3,1.4), box-shadow .22s ease, background .2s ease;
}
.ai img{width:18px; height:18px; filter: grayscale(1)}
.ai:hover{background:#f8f8f8; transform: translateY(-1px)}
.ai:active{transform: translateY(0) scale(.98)}
.ai:focus-visible{outline:3px solid var(--focus); outline-offset:2px}

.typing{display:inline-flex; gap:4px; align-items:center}
.dot{width:6px; height:6px; border-radius:50%; background:#9a9a9a; opacity:.35; animation:blink 1s infinite}
.dot:nth-child(2){animation-delay:.15s}
.dot:nth-child(3){animation-delay:.3s}
@keyframes blink{0%,80%,100%{opacity:.2}40%{opacity:1}}

.footer{padding:16px 0; color:var(--muted); font-size:12px}

/* Arquivo */
.toolbar{display:flex; align-items:center; justify-content:space-between; padding:12px 0}
.toolbar .right{display:flex; gap:6px}
.group{border:1px solid var(--line); border-radius:12px; background:#fff; margin-bottom:10px}
.group-h{display:flex; align-items:center; justify-content:space-between; padding:10px 12px; border-bottom:1px solid var(--line)}
.group-h h3{margin:0; font-size:14px; font-weight:600}
.items{padding:8px}
.card{border:1px solid var(--line); border-radius:10px; padding:8px; margin:8px 0; background:#fff; display:flex; flex-direction:column; gap:6px}
.meta{display:flex; flex-wrap:wrap; gap:6px; color:var(--muted); font-size:12px}
.tag{display:inline-flex; align-items:center; gap:6px; background:#f7f7f7; border:1px solid var(--line); border-radius:999px; padding:3px 8px}
.actions{display:flex; align-items:center; gap:6px}
.actions .iconbtn{width:38px; height:38px}
.empty{padding:24px; text-align:center; color:var(--muted)}

/* Popover minimal */
.pop{position:absolute; z-index:20; background:#fff; border:1px solid var(--line); border-radius:12px; padding:10px; box-shadow:0 8px 24px rgba(0,0,0,.06)}
.pop h4{margin:0 0 8px 0; font-size:12px; color:#333; font-weight:600}
.pop .row{display:flex; flex-wrap:wrap; gap:6px}
.pop .pill{font-size:12px; padding:6px 10px; border:1px solid var(--line); border-radius:999px; background:#fafafa; cursor:pointer}
.pill.active{background:#111; color:#fff; border-color:#111}

:focus-visible{scroll-margin:80px}
@media (prefers-reduced-motion: reduce){
  .dot{animation:none}
  .iconbtn, .ai, .chip{transition:none}
}
@media (max-width:640px){
  .container{padding:0 12px}
  .nav{height:52px}
}
