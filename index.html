<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="theme-color" content="#0a3a4a" />
  <title>AD - Gerador de Prompt</title>
  <style>
    :root{
      --ink:#0b2f3b;
      --bg:#ffffff;
      --panel:#63cfc1;      /* fundo verde das seções */
      --panel-2:#e9f2f5;    /* campos */
      --btn:#0b3b4a;        /* GERAR */
      --btn-copy:#6b7785;   /* COPIAR */
      --btn-reset:#4b5563;  /* REINICIAR */
      --border:#d8e2e7;
      --radius:28px;
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial;background:var(--bg);color:var(--ink);padding-top:64px}

    /* ===== Topbar fixa ===== */
    .topbar{position:fixed;inset:0 0 auto 0;height:64px;display:flex;align-items:center;justify-content:space-between;padding:0 18px;background:#ffffff;z-index:1000;border-bottom:1px solid var(--border)}
    .topbar .brand{font-weight:900;letter-spacing:.2px;color:var(--ink)}
    .topbar .ig{display:inline-flex;align-items:center;justify-content:center;width:28px;height:28px;border-radius:8px}
    .topbar .ig svg{width:22px;height:22px}

    /* HERO (frase aleatória) */
    .hero{display:grid;grid-template-columns:1fr;gap:8px;max-width:1100px;margin:0 auto;padding:40px 20px 24px;align-items:start}
    .quote{font-weight:800;line-height:1.05;letter-spacing:.2px;color:var(--ink);font-size:clamp(28px,6vw,64px)}
    .author{font-style:italic;font-size:clamp(14px,2.2vw,22px);opacity:.85}
    @media (max-width:600px){
      .quote{font-size:clamp(36px,7.8vw,83px)} /* ~+30% em mobile */
    }

    /* Painéis */
    .panel{background:var(--panel);border-top-left-radius:42px;border-top-right-radius:42px;padding:28px 20px 40px}
    .section{max-width:1100px;margin:0 auto}
    .field-wrap{margin:16px 0 26px}
    .label{font-weight:900;font-size:clamp(16px,2.6vw,26px);color:#08333e;margin:0 0 12px}
    .field{width:100%;background:var(--panel-2);border:1px solid var(--border);border-radius:22px;padding:18px 20px;color:#11323c;outline:none}
    select.field{appearance:none;cursor:pointer}
    textarea.field{min-height:140px;resize:vertical}

    /* Ações + saída */
    .actions-out{display:grid;grid-template-columns:220px 1fr;gap:24px;align-items:start}
    .btn{display:inline-block;border:none;border-radius:999px;padding:14px 28px;font-weight:900;letter-spacing:.3px;color:#fff;cursor:pointer;width:100%}
    .btn + .btn{margin-top:14px}
    .btn-primary{background:var(--btn)}
    .btn-copy{background:var(--btn-copy)}
    .btn-reset{background:var(--btn-reset)}
    .output{background:var(--panel-2);border:1px solid var(--border);border-radius:22px;min-height:190px;padding:18px 20px;color:#16333b;width:100%;resize:vertical}

    .footer{max-width:1100px;margin:20px auto 36px;padding:0 20px;text-align:center;color:#204855}
    .footer a{color:#204855;text-decoration:none;border-bottom:1px dashed #98b0ba}

    @media (max-width:860px){
      .actions-out{grid-template-columns:1fr;}
      .btn{width:100%}
    }
  </style>
</head>
<body>
  <!-- Topbar fixa -->
  <nav class="topbar" role="navigation" aria-label="Menu principal">
    <div class="brand">AD - Gerador de Prompt</div>
    <a class="ig" href="https://www.instagram.com/osvaldosereiajr/" target="_blank" rel="noopener" aria-label="Instagram @osvaldosereiajr">
      <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
        <rect x="2" y="2" width="20" height="20" rx="5" stroke="#0b2f3b" stroke-width="1.6"/>
        <circle cx="12" cy="12" r="4.2" stroke="#0b2f3b" stroke-width="1.6"/>
        <circle cx="17.5" cy="6.5" r="1.2" fill="#0b2f3b"/>
      </svg>
    </a>
  </nav>

  <!-- Frase aleatória -->
  <header class="hero">
    <div id="quote" class="quote">—</div>
    <div id="author" class="author"></div>
  </header>

  <!-- App -->
  <main class="panel">
    <div class="section">
      <div class="field-wrap">
        <h2 class="label">Qual seu objetivo?</h2>
        <select id="strategy" class="field">
          <option value="" selected>SELETOR</option>
          <option value="explicacao">Explicação Básica</option>
          <option value="resumo">Resumo Objetivo</option>
          <option value="artigo">Análise Detalhada</option>
          <option value="aplicacao">Aplicação Prática</option>
          <option value="simulado">Exercícios/Testes</option>
          <option value="faq">FAQ</option>
          <option value="debate">Debate/Reflexão</option>
          <option value="atualizacao">Contexto Atualizado</option>
          <option value="plano">Plano de Estudo</option>
          <option value="sustentacao">Sustentação Oral</option>
        </select>
      </div>

      <div class="field-wrap">
        <h2 class="label">Vamos falar sobre o quê?</h2>
        <textarea id="theme" class="field" placeholder="Digite o tema, exemplo: 'Princípio da Legalidade no Direito Penal'"></textarea>
      </div>

      <div class="actions-out">
        <div>
          <button id="generate" class="btn btn-primary" type="button">GERAR</button>
          <button id="copy" class="btn btn-copy" type="button">COPIAR</button>
          <button id="reset" class="btn btn-reset" type="button">REINICIAR</button>
        </div>
        <textarea id="result" class="output" placeholder="Prompt gerado aqui..." readonly></textarea>
      </div>
    </div>
  </main>

  <div class="footer">
    <a href="https://www.instagram.com/osvaldosereiajr/" target="_blank" rel="noopener">@osvaldosereiajr</a>
  </div>

  <script>
    /* ========== Frases aleatórias ========== */
    const FALLBACK_QUOTES = [
      'Não há liberdade sem lei. — Montesquieu',
      'A justiça sem força é impotente; a força sem justiça é tirana. — Pascal',
      'Nenhum homem é acima da lei e nenhum abaixo dela. — Roosevelt',
      'O direito não socorre aos que dormem. — Brocardo',
      'A lei deve ser como a morte, que não poupa ninguém. — Montesquieu',
      'Dura lex, sed lex. — Máxima romana',
      'Todo poder emana do povo. — CF/88',
      'A verdade é filha do tempo. — Sófocles',
      'O costume é o melhor intérprete das leis. — Plínio',
      'Ubi societas, ibi jus. — Onde há sociedade, há direito.'
    ];
    async function loadRandomQuote(){
      let lines = [];
      try{
        const res = await fetch('./frases.txt', {cache:'no-store'});
        if(res.ok){
          const txt = await res.text();
          lines = (txt.split(/\r?\n/)||[]).map(s=>s.trim()).filter(Boolean);
        }
      }catch{/* fallback */}
      if(!lines.length) lines = FALLBACK_QUOTES;
      const pick = lines[Math.floor(Math.random() * lines.length)];
      const parts = pick.split('—');
      document.getElementById('quote').textContent = (parts[0]||pick).trim();
      document.getElementById('author').textContent = parts[1] ? '— ' + parts[1].trim() : '';
    }

    /* ========== Templates (10 estratégias) ========== */
    const TEMPLATES = {
      explicacao: (tema) => `Você é um **tutor de Direito** no Brasil, especialista em didática jurídica.  
Persona: professor paciente e criativo, que explica para iniciantes.  
Linguagem: simples, clara, sem juridiquês; use analogias.  

Tarefa: Explique o tema **${tema}**.  
Estrutura:  
1) Definição essencial (até 3 linhas).  
2) 2–3 analogias do cotidiano.  
3) 3 pontos-chave (o que é, para que serve, onde se aplica).  
4) 2 erros comuns dos alunos + forma correta.  
5) Mini-exemplo prático.  

Recursos: headings (H2–H3), listas, parágrafos curtos.  
Regras: sem links; jurisprudência só se 100% segura.  

Fecho: síntese (2 frases) + fontes (até 5).`,

      resumo: (tema) => `Você é um **professor universitário de Direito** no Brasil, especialista em provas da OAB e concursos.  
Persona: objetivo e estratégico, como quem monta checklists.  
Linguagem: direta, sem floreios.  

Tarefa: Resuma **${tema}** em formato RAIO-X.  
Inclua:  
1) Conceito-chave (até 2 linhas);  
2) Base legal essencial (artigos);  
3) Estrutura/elementos;  
4) Diferenças fáceis de confundir (3 pares);  
5) Tendências jurisprudenciais (sem nº se não houver certeza);  
6) 3 pegadinhas de prova;  
7) 2 mini-cases resolvidos.  

Recursos: tópicos numerados, negrito nos termos centrais.  
Regras: sem links; jurisprudência só se 100% segura.  

Fecho: resumo de bolso (2 frases) + fontes (até 5).`,

      artigo: (tema) => `Você é um **jurista pesquisador**, especialista em produção acadêmica.  
Persona: acadêmico crítico, mas acessível.  
Linguagem: técnica, formal, sem excesso; parágrafos curtos.  

Tarefa: Produza artigo acadêmico sobre **${tema}**.  
Estrutura:  
# Introdução: problema, relevância prática e hipótese.  
# Desenvolvimento: conceitos centrais, evolução histórica, correntes doutrinárias (prós/contrás), análise crítica, tendências jurisprudenciais, (opcional: direito comparado).  
# Conclusão: síntese crítica + proposta prática.  

Recursos: headings H1–H4, listas quando cabíveis, destaques em **negrito**.  
Regras: sem links; jurisprudência só se 100% segura.  

Fecho: resumo final (2 frases) + referências (até 5).`,

      aplicacao: (tema) => `Você é um **advogado experiente e professor de prática jurídica**.  
Persona: prático, direto, como quem treina estagiários.  
Linguagem: clara, com exemplos.  

Tarefa: Mostre como aplicar **${tema}** na prática.  
Estrutura:  
1) Caso fictício realista.  
2) Enquadramento jurídico (fundamentos e raciocínio).  
3) Solução provável (e alternativas).  
4) Mini-modelo de peça (endereçamento, fatos, fundamentos, pedidos).  
5) Checklist (3–5 pontos).  

Recursos: listas, blocos de texto para peças.  
Regras: sem links; jurisprudência só se 100% segura.  

Fecho: resumo executivo (2 frases) + fontes (até 5).`,

      simulado: (tema) => `Você é um **examinador da OAB** montando questões sobre ${tema}.  
Persona: avaliador exigente, mas didático no comentário.  
Linguagem: objetiva, estilo prova.  

Tarefa: Crie 5 questões sobre **${tema}**.  
Estrutura:  
- 2 fáceis, 2 médias, 1 difícil.  
- Estilo múltipla escolha ou discursiva curta.  
- Gabarito comentado logo após cada questão.  

Recursos: blocos por questão; resposta correta em **negrito**.  
Regras: sem links; jurisprudência só se 100% segura.  

Fecho: 3 dicas práticas de estudo + fontes (até 5).`,

      faq: (tema) => `Você é um **monitor de Direito** explicando conceitos básicos.  
Persona: colega didático, rápido e claro.  
Linguagem: simples, sem juridiquês.  

Tarefa: Responda dúvidas rápidas sobre **${tema}**.  
Estrutura:  
- 8 perguntas essenciais.  
- Respostas em até 3 linhas.  
- 2 confusões comuns + a forma correta.  

Recursos: pergunta em **negrito**, resposta em texto normal.  
Regras: sem links; jurisprudência só se 100% segura.  

Fecho: resumo de bolso (2 frases) + fontes (até 5).`,

      debate: (tema) => `Você é um **professor de Filosofia do Direito** mediando debate sobre ${tema}.  
Persona: provocador crítico, mas neutro.  
Linguagem: reflexiva e clara.  

Tarefa: Promova um debate sobre **${tema}**.  
Estrutura:  
1) Problema central (até 4 linhas).  
2) 3 argumentos pró.  
3) 3 argumentos contra.  
4) 1 dilema ético ou prático.  
5) Perguntas-guia para discussão.  

Recursos: listas; destaques em **negrito**.  
Regras: sem links; jurisprudência só se 100% segura.  

Fecho: síntese imparcial (2 frases) + fontes (até 5).`,

      atualizacao: (tema) => { const d=new Date(); const data=`${d.getFullYear()}-${String(d.getMonth()+1).padStart(2,'0')}-${String(d.getDate()).padStart(2,'0')}`; return `Você é um **jurista analista de legislação e jurisprudência**.  
Persona: atualizado, conecta norma e impacto prático.  
Linguagem: clara, objetiva.  

Tarefa: Traga panorama atualizado sobre **${tema}** (até ${data}).  
Estrutura:  
1) Alterações legislativas recentes.  
2) Tendências jurisprudenciais atuais.  
3) Impactos práticos (provas e advocacia).  
4) Pontos controversos e cuidados.  

Recursos: subtítulos H3; destaque artigos em **negrito**.  
Regras: sem links; jurisprudência só se 100% segura.  

Fecho: resumo (2 frases) + fontes (até 5).`; },

      plano: (tema) => `Você é um **coach de estudos jurídicos** especialista em memorização.  
Persona: motivador, organizado.  
Linguagem: objetiva e encorajadora.  

Tarefa: Crie plano de estudo sobre **${tema}** para 4 semanas.  
Estrutura:  
1) Objetivo do ciclo.  
2) Cronograma semanal (Semana 1–4).  
3) Rotina de revisão espaçada (1-1-7-15).  
4) Exercícios práticos.  
5) Erros comuns e como evitar.  

Recursos: listas e tabela simples em texto.  
Regras: sem links.  

Fecho: frase motivadora (2 linhas) + fontes (até 5).`,

      sustentacao: (tema) => `Você é um **professor-orientador de Direito**.  
Persona: advogado(a) experiente, fala clara e persuasiva.  
Linguagem: formal, retórica, cadência de fala.  

Tarefa: Simule uma sustentação oral de até 5 minutos (~600–700 palavras) sobre **${tema}**.  
Estrutura:  
1) Abertura chamativa (saudação e apresentação).  
2) Contexto e relevância jurídica/social.  
3) Desenvolvimento: definição, base legal, doutrina, jurisprudência (se 100% segura), caso ilustrativo.  
4) Argumentação persuasiva (impactos e atenção).  
5) Fechamento forte (conclusão de impacto).  

Recursos: narrativa contínua em parágrafos; transições retóricas (“Senhores, vejam...” etc).  
Regras: sem links; jurisprudência só se 100% segura.  

Fecho: frase final de impacto + fontes (até 5).`,
    };

    /* ========== Lógica dos botões ========== */
    const strategy = document.getElementById('strategy');
    const theme = document.getElementById('theme');
    const result = document.getElementById('result');
    const btnGen = document.getElementById('generate');
    const btnCopy = document.getElementById('copy');
    const btnReset = document.getElementById('reset');

    btnGen.addEventListener('click', generate);
    btnCopy.addEventListener('click', copyOut);
    btnReset.addEventListener('click', resetAll);
    theme.addEventListener('keydown', (e)=>{ if((e.ctrlKey||e.metaKey)&&e.key.toLowerCase()==='enter'){generate();}});

    function generate(){
      const s = strategy.value; const t = (theme.value||'').trim();
      if(!s){ alert('Selecione o objetivo.'); return; }
      if(!t){ alert('Digite o tema.'); theme.focus(); return; }
      const tpl = TEMPLATES[s]; if(!tpl){ alert('Estratégia inválida.'); return; }
      result.value = tpl(t);
      window.scrollTo({top:document.body.scrollHeight, behavior:'smooth'});
    }

    async function copyOut(){
      if(!result.value) return alert('Nada para copiar.');
      try{
        await navigator.clipboard.writeText(result.value);
        const old = btnCopy.textContent;
        btnCopy.textContent = 'COPIADO';
        btnCopy.disabled = true;
        setTimeout(()=>{ btnCopy.textContent = old; btnCopy.disabled = false; }, 1600);
      }catch(err){
        // Fallback para ambientes sem Clipboard API
        const ta = document.createElement('textarea');
        ta.value = result.value; ta.style.position='fixed'; ta.style.opacity='0';
        document.body.appendChild(ta); ta.focus(); ta.select();
        try{
          document.execCommand('copy');
          const old = btnCopy.textContent; btnCopy.textContent='COPIADO';
          btnCopy.disabled=true; setTimeout(()=>{btnCopy.textContent=old; btnCopy.disabled=false;},1600);
        }catch{
          alert('Não foi possível copiar. Selecione e use Ctrl/Cmd+C.');
        }finally{
          document.body.removeChild(ta);
        }
      }
    }

    function resetAll(){
      strategy.value=''; theme.value=''; result.value='';
      window.scrollTo({top:0,behavior:'smooth'});
    }

    // Inicializa a frase
    loadRandomQuote();
  </script>
</body>
</html>
