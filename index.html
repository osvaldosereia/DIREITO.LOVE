<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>direito.love ‚Äî Leitor jur√≠dico</title>

  <!-- √çcones / PWA -->
  <link rel="icon" href="icons/favicon-32.png" sizes="32x32" type="image/png">
  <link rel="icon" href="icons/favicon-192.png" sizes="192x192" type="image/png">
  <link rel="apple-touch-icon" href="icons/apple-touch-icon.png">
  <link rel="manifest" href="manifest.webmanifest">
  <meta name="theme-color" content="#142B6F">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <link rel="stylesheet" href="styles.css" />
</head>
<body>

  <!-- TOPBAR -->
  <header class="topbar">
    <div class="topbar-inner">
      <img src="icons/logo.png" alt="direito.love" class="brand" id="brandBtn" title="Clique para reiniciar">
      <div class="spacer"></div>
      <div class="select-wrap">
        <select id="codeSelect" title="Escolher arquivo">
          <option value="">‚Äî selecione ‚Äî</option>

          <optgroup label="CF88">
            <option value="data/CF88/CF88.txt">Constitui√ß√£o Federal 1988</option>
          </optgroup>

          <optgroup label="C√≥digos">
            <option value="data/codigos/codigo_civil.txt">C√≥digo Civil</option>
            <option value="data/codigos/codigo_Processo_Civil.txt">C√≥digo de Processo Civil</option>
            <option value="data/codigos/codigo_penal.txt">C√≥digo Penal</option>
            <option value="data/codigos/codigo_Processo_Penal.txt">C√≥digo de Processo Penal</option>
            <option value="data/codigos/codigo_consumidor.txt">C√≥digo de Defesa do Consumidor</option>
            <option value="data/codigos/codigo_CLT.txt">CLT - Consolida√ß√£o das Leis do Trabalho</option>
            <option value="data/codigos/codigo_tributario_nacional.txt">C√≥digo Tribut√°rio Nacional</option>
          </optgroup>

          <optgroup label="Leis">
            <option value="data/leis/lei_maria_da_penha.txt">Lei Maria da Penha</option>
            <option value="data/leis/lei_de_execucao_penal.txt">Lei de Execu√ß√£o Penal</option>
            <option value="data/leis/lei_de_drogas.txt">Lei de Drogas</option>
            <option value="data/leis/lei_LGPD.txt">Lei LGPD</option>
            <option value="data/leis/marco_civil_da_internet.txt">Marco Civil da Internet</option>
            <option value="data/leis/crimes_hediondos.txt">Lei dos Crimes Hediondos</option>
          </optgroup>

          <optgroup label="Estatutos">
            <option value="data/estatutos/eca.txt">ECA - Estatuto da Crian√ßa e Adolescente</option>
            <option value="data/estatutos/estatuto_do_desarmamento.txt">Estatuto do Desarmamento</option>
            <option value="data/estatutos/estatuto_do_idoso.txt">Estatuto do Idoso</option>
            <option value="data/estatutos/estatuto_da_juventude.txt">Estatuto da Juventude</option>
            <option value="data/estatutos/estatuto_da_pessoa_com_deficiencia.txt">Estatuto da Pessoa com Defici√™ncia</option>
          </optgroup>

          <optgroup label="Princ√≠pios">
            <option value="data/principios/principios_do_direito.txt">Princ√≠pios (Rol Exemplificativo)</option>
          </optgroup>
        </select>

        <!-- Mobile: bot√£o que abre o cat√°logo (sheet) -->
        <button id="openPicker" class="picker-btn" type="button"
                aria-haspopup="dialog" aria-controls="pickerSheet" aria-expanded="false">
          Escolher c√≥digo
        </button>
      </div>
    </div>
  </header>

  <!-- PROGRESS BAR -->
  <div class="progress" id="progress" hidden>
    <div class="bar" id="progressBar"></div>
  </div>

  <!-- CONTE√öDO -->
  <main class="content">
    <div class="container">

      <!-- Resultados globais (lista de cards) -->
      <div id="globalResultsWrap" style="display:none">
        <div id="globalResults"></div>
      </div>

      <!-- Leitura normal de artigos -->
      <div class="articles" id="articles">
        <div class="placeholder">
          <p style="text-align:center; font-size:1.1rem; font-weight:normal; line-height:1.6;">
            üíö<br> Bem-vindo ao <strong>Direito.Love</strong><br>
            O <em>Mini Vade Mecum Digital</em> que tamb√©m te auxilia nos estudos com <strong>I.A.</strong>
            <br><br>üòé <br><strong>Escolha um c√≥digo no topo e comece agora.</strong> <br>Bons estudos!
          </p>
        </div>
      </div>
    </div>
  </main>

  <!-- BARRA 1 ‚Äî BUSCA -->
  <div class="bottom-search" id="bottomSearch" hidden>
    <div class="bottom-search-inner" aria-live="polite">
      <!-- Setas/Contagem/Voltar: s√≥ aparecem no p√≥s-busca -->
      <button class="iconbtn navbtn" id="prevBtn" title="Anterior" aria-label="Anterior">‚óÄ</button>
      <button class="iconbtn navbtn" id="nextBtn" title="Pr√≥ximo" aria-label="Pr√≥ximo">‚ñ∂</button>

      <!-- Bloco de busca -->
      <div class="search">
        <input id="searchInput" type="search" placeholder="Buscar no texto‚Ä¶" autocomplete="off" aria-label="Buscar no texto" />
        <!-- limpar (interno ao input) -->
        <button id="clearSearch" class="clear-btn" type="button" aria-label="Limpar busca" hidden>‚úï</button>
        <!-- spinner (interno ao input) -->
        <div class="spinner" id="spinner" hidden></div>

        <!-- Toggle Global (desktop) -->
        <label class="all-toggle" id="toggleDesktop" title="Buscar em todos os arquivos">
          <input id="searchAll" type="checkbox" />
          <span>Global</span>
        </label>
        <!-- Toggle Global (mobile ‚Äî √≠cone) -->
        <button id="toggleMobile" class="all-toggle-mobile" type="button" aria-pressed="false" title="Buscar em todos os arquivos" aria-label="Buscar em todos os arquivos">
          üåê
        </button>
      </div>

      <!-- Contador -->
      <div class="result-count" id="resultCount" title="Ocorr√™ncia atual / Total"><span id="count">0/0</span></div>

      <!-- Voltar ao modo pr√©-busca -->
      <button class="iconbtn" id="backBtn" title="Voltar" aria-label="Voltar" style="display:none">‚ü≤</button>
      <!-- Voltar √† lista global -->
      <button class="iconbtn" id="backToResultsBtn" title="Voltar aos resultados" aria-label="Voltar aos resultados" style="display:none">‚ü≤</button>
    </div>
  </div>

  <!-- BARRA 2 ‚Äî A√á√ïES -->
  <div class="bottom-study" id="bottomStudy" hidden>
    <div class="bottom-study-inner">
      <button class="study" id="studyBtn">Estude com I.A.</button>
      <button class="do-search" id="doSearchBtn">Buscar</button>
    </div>
  </div>

  <!-- MODAL IA -->
  <div class="modal-backdrop" id="modalBackdrop" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="modal" role="document" aria-labelledby="modalTitle">
      <h3 id="modalTitle">Prompt do X copiado.</h3>
      <p class="subtitle">‚úÖ PROMPT PRONTO! Escolha uma IA e cole o prompt para estudar.</p>
      <div class="ia-grid">
        <button class="ia-btn" data-url="https://chatgpt.com/" aria-label="Abrir no ChatGPT">üí¨ ChatGPT</button>
        <button class="ia-btn" data-url="https://gemini.google.com/app" aria-label="Abrir no Gemini">üß† Gemini</button>
        <button class="ia-btn" data-url="https://copilot.microsoft.com/" aria-label="Abrir no Copilot">‚ú® Copilot</button>
        <button class="ia-btn" data-url="https://www.perplexity.ai/" aria-label="Abrir no Perplexity">üîé Perplexity</button>
      </div>
      <div class="foot">
        <button class="close-btn" id="closeModal">Fechar</button>
      </div>
    </div>
  </div>

  <!-- SHEET: seletor custom (mobile) -->
  <div id="pickerSheet" class="sheet" hidden aria-hidden="true" role="dialog" aria-modal="true">
    <div class="sheet-backdrop" data-close></div>
    <div class="sheet-panel" role="document">
      <div class="sheet-head">
        <strong class="sheet-title">Escolher c√≥digo</strong>
        <button class="sheet-close" type="button" data-close aria-label="Fechar">‚úï</button>
      </div>
      <div class="sheet-search">
        <input id="pickerSearch" type="search" placeholder="Buscar‚Ä¶" autocomplete="off" />
      </div>
      <div class="sheet-body" id="pickerList" aria-live="polite"></div>
    </div>
  </div>

  <div class="toast" id="toast" role="status" aria-live="polite">‚úÖ Prompt copiado!</div>

  <script src="script.js"></script>
</body>
</html>
