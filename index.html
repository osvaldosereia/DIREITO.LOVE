<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
  <meta name="description" content="Gerador de prompts jur√≠dicos para estudantes de Direito ‚Äî direito.love" />
  <meta name="theme-color" content="#000000" />

  <!-- caminhos absolutos -->
  <link rel="manifest" href="/manifest.json" />
  <link rel="icon" href="/icons/pwa-192.png" />
  <link rel="apple-touch-icon" href="/icons/pwa-192.png" />
  <link rel="stylesheet" href="/css/styles.css" />
  <title>üíö direito.love ‚Äî Chat</title>
</head>
<body>
  <div class="container">
    <!-- Topo -->
    <header class="topbar" role="banner">
      <div class="brand" aria-label="direito.love">
        <span class="logo">üíö</span><span>direito.love</span>
      </div>
      <button id="btn-settings" class="icon-btn" aria-label="Abrir configura√ß√µes" aria-controls="drawer" aria-expanded="false">‚öô</button>
    </header>

    <!-- √Årea do chat -->
    <main class="chat" id="chat" role="log" aria-live="polite" aria-relevant="additions"></main>

    <!-- Se√ß√µes -->
    <section class="chat">
      <div id="acessorios-sec" class="section hidden" aria-labelledby="lbl-acessorios">
        <h3 id="lbl-acessorios">O que incluir? (selecione pelo menos 1)</h3>
        <div id="acessorios-list" class="chips" role="group" aria-label="Acess√≥rios para o prompt"></div>
      </div>

      <div id="sugestoes-sec" class="section hidden" aria-labelledby="lbl-sugestoes">
        <h3 id="lbl-sugestoes">Sugest√µes encontradas</h3>
        <ul id="sugestoes-list"></ul>
      </div>

      <div class="bloco-gerar section hidden">
        <button id="btn-gerar" class="btn primary" disabled>Gerar</button>
      </div>
    </section>

    <!-- Formul√°rio de entrada -->
    <form id="tema-form" class="composer" aria-label="Enviar tema">
      <div class="input">
        <input id="tema-input" name="tema" type="text" autocomplete="off" maxlength="180"
               placeholder="Digite o tema jur√≠dico (ex.: Responsabilidade civil por dano est√©tico)"
               aria-label="Tema jur√≠dico" required />
      </div>
      <button class="btn primary" type="submit">Avan√ßar</button>
    </form>
  </div>

  <div id="overlay" class="overlay" aria-hidden="true"></div>

  <!-- Modal educativo -->
  <div id="educativo-modal" class="modal hidden" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="edu-title">
    <div class="panel">
      <header>
        <h2 id="edu-title">Como funciona</h2>
        <button class="icon-btn" id="educativo-ok" aria-label="Entendi">‚úî</button>
      </header>
      <div class="content">
        <ul class="educativo-list">
          <li>Digite o tema ‚Üí aguarde ‚Äú... pensando‚Äù.</li>
          <li>Escolha os m√≥dulos que quer no seu prompt.</li>
          <li><b>Dica:</b> toque na <b>estrela</b> (‚òÜ‚Üí‚òÖ) para <b>favoritar</b> e subir os m√≥dulos que mais usa.</li>
          <li>Clique em <b>Gerar</b> para copiar (sem exibir o prompt gigante).</li>
          <li>Os √∫ltimos 50 prompts ficam em <b>Recentes</b>.</li>
        </ul>
      </div>
    </div>
  </div>

  <!-- Modal resumo -->
  <div id="resumo-modal" class="modal hidden" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="resumo-title">
    <div class="panel">
      <header>
        <h2 id="resumo-title">Seu prompt est√° pronto</h2>
        <button class="icon-btn" id="close-resumo" aria-label="Fechar">‚úï</button>
      </header>
      <div class="content">
        <p>Veja o que ser√° inclu√≠do:</p>
        <ul id="resumo-list"></ul>
      </div>
      <div class="actions">
        <a id="go-recentes" href="/recentes.html" class="btn">Recentes</a>
        <button id="share-btn" class="btn" type="button" aria-label="Compartilhar prompt">Compartilhar</button>
        <button id="copy-btn" class="btn primary" type="button">Copiar</button>
      </div>
    </div>
  </div>

  <!-- Drawer lateral -->
  <aside id="drawer" class="drawer" role="dialog" aria-label="Configura√ß√µes">
    <header>
      <h3>Prefer√™ncias</h3>
      <button id="btn-close-drawer" class="icon-btn" aria-label="Fechar">‚úï</button>
    </header>
    <div class="content">
      <p class="muted">Ajuste o app do seu jeito. Tudo funciona offline (PWA).</p>

      <a href="/recentes.html" class="btn primary" style="margin-top:8px">Abrir Recentes</a>

      <hr style="margin:12px 0; opacity:.2" />

      <!-- Favoritos (estrela inline) -->
      <h4 class="muted" style="margin:0 0 8px">Favoritos</h4>
      <label class="row" style="gap:12px">
        <input id="pref-autoselect" type="checkbox" />
        <span>Pr√©-selecionar favoritos</span>
      </label>
      <button id="pref-clear-favs" class="btn" style="margin-top:8px">Limpar favoritos</button>

      <hr style="margin:12px 0; opacity:.2" />

      <h4 class="muted" style="margin:0 0 8px">Sobre o app</h4>
      <nav class="stack" aria-label="P√°ginas institucionais">
        <a href="/como-funciona.html" class="btn">Como Funciona</a>
        <a href="/objetivo.html" class="btn">Nosso Objetivo</a>
        <a href="/sobre.html" class="btn">Sobre</a>
      </nav>
    </div>
  </aside>

  <div id="toast" class="toast" role="status" aria-live="polite" aria-atomic="true"></div>

  <!-- Ponto de entrada √∫nico -->
  <script type="module" src="/app.js"></script>
</body>
</html>
